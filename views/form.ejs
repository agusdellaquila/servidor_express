<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Publicar</title>
</head>
<body style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <h2 class="text-3xl m-3 font-bold">Agregar producto</h2>

    <div class="m-5">
        <a href="/">Home</a>
    </div>

    <form id="addProduct" action="/api/products/form" method="POST">
        Title: <input id="title" class="bg-stone-400 rounded-md text-white" name="title">
        Price: <input id="price" class="bg-stone-400 rounded-md text-white" name="price" type="number">
        Stock: <input id="stock" class="bg-stone-400 rounded-md text-white" name="stock" type="number">
        Description: <input id="description" class="bg-stone-400 rounded-md text-white" name="stock" type="text">
        URL: <input id="image" class="bg-stone-400 rounded-md text-white" name="image" type="text">

        <button class="bg-rose-900 rounded-md text-white p-1" type="submit">Agregar</button>
    </form>

    <% if (products.data.length === 0) { %>
        <h2>No products</h2>
    <% } else { %>
        <div class="flex flex-wrap w-full justify-center">
                <% products.data.map (element => { %>
                    <div class="flex-col text-center bg-gray-300 w-2/12 h-auto p-4 m-4">
                        <p class="text-3xl font-bold m-3"><%=element.title%></p>
                        <p class="font-bold text-green-600 m-3">$<%=element.price%></p>
                        <p class="m-3">Stock: <span><%=element.stock%></span></p>
                        <p class="m-3"><%=element.description%></p>
                        <img class="m-3" src=<%=element.image%> style="margin: 0 auto" width="100px">
                        <a class="font-bold bg-red-500 p-1" href=<%=`/api/products/${element.id}`%>>Details</a>
                    </div>
                <% }) %>
        </div>
    <% } %> 
</body>
</html>